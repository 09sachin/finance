(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{17645:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(95155),l=a(12115),r=a(60760),n=a(25561),i=a(25075),d=a(98794),o=a(88962),c=a(48882),m=a(43094),x=a(64065),h=a(84366),u=a(35473),p=a(23464),g=a(32502);function f(){let[e,t]=(0,l.useState)([]),[a,g]=(0,l.useState)(5e3),[f,N]=(0,l.useState)(""),[j,b]=(0,l.useState)((0,i.GP)(new Date,"yyyy-MM-dd")),[v,y]=(0,l.useState)(0),[k,w]=(0,l.useState)(!1),[M,C]=(0,l.useState)(!0),[S,P]=(0,l.useState)([]),[F,D]=(0,l.useState)(!1),I=["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(239, 68, 68, 1)","rgba(168, 85, 247, 1)","rgba(234, 88, 12, 1)"],R=e=>{try{let t=(0,d.H)(e);if(!(0,o.f)(t)){let a=e.split("-");3===a.length&&(t=new Date(parseInt(a[2]),parseInt(a[1])-1,parseInt(a[0])))}if(!(0,o.f)(t))return console.error("Invalid date: ".concat(e,", using current date as fallback")),new Date;return t}catch(e){return console.error("Date parsing error:",e),new Date}},L=e=>{t(t=>t.filter(t=>t.schemeCode!==e)),D(!1)},A=async e=>{try{let t=[...(await p.A.get("https://api.mfapi.in/mf/".concat(e))).data.data].sort((e,t)=>R(e.date).getTime()-R(t.date).getTime()),a=f?R(f):null,s=j?R(j):new Date;return t.filter(e=>{let t=R(e.date);return(!a||!(t<a))&&(!s||!(t>s))}).map(e=>({date:e.date,nav:parseFloat(e.nav)}))}catch(t){return console.error("Error fetching data for fund ".concat(e,":"),t),[]}},T=(e,t,a)=>{if(!e.length)return{timeline:[],totalValue:0,finalUnits:0,endNav:0};let s=[...e].sort((e,t)=>R(e.date).getTime()-R(t.date).getTime()),l=0,r=[],n=e=>{let t=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),a=[...s].sort((e,a)=>Math.abs(R(e.date).getTime()-t)-Math.abs(R(a.date).getTime()-t));return{nav:a[0].nav,date:a[0].date}};if(a>0&&s.length>0){let e=n(R(s[0].date));l=a/e.nav,r.push({date:(0,i.GP)(R(e.date),"MMM yyyy"),value:Math.round(a)})}let d=[];if(s.length>0){let e=R(s[0].date),t=R(s[s.length-1].date),l=e;for(a>0&&(l=(0,c.P)(l,1));l<=t;)d.push(new Date(l)),l=(0,c.P)(l,1)}d.forEach(e=>{let{nav:a,date:s}=n(e),d=(l+=t/a)*a;r.push({date:(0,i.GP)(R(s),"MMM yyyy"),value:Math.round(d)})});let o=s[s.length-1].nav;return{timeline:r,totalValue:l*o,finalUnits:l,endNav:o}},E=(e,t,a,s)=>{if(s<=0||0===e&&0===t||a<=0)return 0;let l=e+t*s;if(0===l)return 0;let r=Math.pow(1.1,1/12)-1;for(let l=0;l<20;l++){let l=0,n=a/Math.pow(1+r,s)-(l=r>0?(1-Math.pow(1+r,-s))/r*t:t*s)-e;if(1e-4>Math.abs(n))break;if((r*=1+(n>0?.1:-.1))<=-1)return -100}let n=Math.pow(1+r,12)-1;return isNaN(n)||!isFinite(n)?a>l?100:a<l?-50:0:100*n},V=async()=>{if(0===e.length||!f||!j)return;w(!0),D(!1);let t=new Date(f),s=new Date(j),l=(0,m.W)(s,t);try{let t=await Promise.all(e.map(e=>A(e.schemeCode))),s=e.map((e,s)=>{let r=t[s];if(!r||0===r.length)return{schemeCode:e.schemeCode,schemeName:e.schemeName,totalInvestment:0,estimatedReturns:0,totalValue:0,absoluteReturn:0,xirr:0,finalUnits:0,endNav:0,color:I[s%I.length],timeline:[]};let{timeline:n,totalValue:i,finalUnits:d,endNav:o}=T(r,a,v),c=v+a*(n.length-(v>0)),m=i-c,x=c>0?(i-c)/c*100:0,h=E(v,a,i,l);return{schemeCode:e.schemeCode,schemeName:e.schemeName,totalInvestment:c,estimatedReturns:Math.round(m),totalValue:Math.round(i),absoluteReturn:parseFloat(x.toFixed(2)),xirr:parseFloat(h.toFixed(2)),finalUnits:d,endNav:o,color:I[s%I.length],timeline:n}});P(s),D(!0)}catch(e){console.error("Error calculating SIP comparison:",e)}finally{w(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 py-6 px-4 sm:py-8",children:(0,s.jsxs)("div",{className:"container mx-auto",children:[(0,s.jsx)(h.A,{}),(0,s.jsxs)("header",{className:"mb-6 text-center sm:text-left",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"SIP Comparison"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:"Compare SIP performance across multiple mutual funds"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{className:"app-card",children:[(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>C(!M),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform ".concat(M?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),(0,s.jsxs)("h2",{className:"text-lg font-medium",children:["Add Funds to Compare ",e.length>0?"(".concat(e.length,"/").concat(5,")"):""]})]}),(0,s.jsx)("span",{className:"text-sm text-slate-500 hidden sm:inline-block",children:M?"Click to collapse":"Click to expand"})]}),(0,s.jsx)(r.N,{children:M&&(0,s.jsx)(n.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"px-4 pb-4",children:[(0,s.jsx)(u.A,{onSelectFund:(a,s)=>{!e.some(e=>e.schemeCode===a)&&(e.length>=5||(t(e=>[...e,{schemeCode:a,schemeName:s}]),D(!1)))}}),e.length>0&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-700 rounded-full px-3 py-1.5",style:{borderLeft:"4px solid ".concat(I[t%I.length])},children:[(0,s.jsx)("span",{className:"text-sm truncate max-w-[150px] sm:max-w-[250px]",children:e.schemeName}),(0,s.jsx)("button",{className:"text-slate-400 hover:text-red-500 transition-colors flex-shrink-0",onClick:t=>{t.stopPropagation(),L(e.schemeCode)},"aria-label":"Remove fund",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.schemeCode))})})]})})})]}),e.length>0&&(0,s.jsxs)("div",{className:"app-card p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-slate-700 dark:text-slate-200 mb-4",children:"SIP Parameters"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Monthly SIP Amount (₹)"}),(0,s.jsxs)("span",{className:"text-sm font-semibold",children:["₹",a.toLocaleString()]})]}),(0,s.jsx)("input",{type:"range",min:"500",max:"100000",step:"500",value:a,onChange:e=>g(Number(e.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[(0,s.jsx)("span",{children:"₹500"}),(0,s.jsx)("span",{children:"₹100,000"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Initial Lumpsum (₹)"}),(0,s.jsxs)("span",{className:"text-sm font-semibold",children:["₹",v.toLocaleString()]})]}),(0,s.jsx)("input",{type:"range",min:"0",max:"1000000",step:"10000",value:v,onChange:e=>y(Number(e.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[(0,s.jsx)("span",{children:"₹0"}),(0,s.jsx)("span",{children:"₹1,000,000"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Start Date"}),(0,s.jsx)("input",{type:"date",className:"app-input",value:f,onChange:e=>N(e.target.value),max:j})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"End Date"}),(0,s.jsx)("input",{type:"date",className:"app-input",value:j,onChange:e=>b(e.target.value),min:f,max:(0,i.GP)(new Date,"yyyy-MM-dd")})]})]}),(0,s.jsx)("button",{className:"w-full btn-primary mt-6",onClick:V,disabled:k||!f||!j||0===e.length,children:k?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Calculating Comparison..."]}):"Calculate SIP Comparison"}),(!f||!j)&&(0,s.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-400 text-center mt-2",children:"Please select both start and end dates"})]}),F&&S.length>0&&(0,s.jsx)(r.N,{children:(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"app-card p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-slate-700 dark:text-slate-200 mb-4",children:"SIP Comparison Results"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded shadow-sm",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Investment Duration"}),(0,s.jsx)("div",{className:"text-base font-bold text-slate-900 dark:text-white",children:f&&j?"".concat((0,i.GP)(new Date(f),"dd MMM yyyy")," - ").concat((0,i.GP)(new Date(j),"dd MMM yyyy")):"Not specified"})]}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded shadow-sm",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monthly SIP Amount"}),(0,s.jsxs)("div",{className:"text-base font-bold text-slate-900 dark:text-white",children:["₹",a.toLocaleString()]})]}),v>0&&(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded shadow-sm",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Initial Lumpsum"}),(0,s.jsxs)("div",{className:"text-base font-bold text-slate-900 dark:text-white",children:["₹",v.toLocaleString()]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-md font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Growth Comparison"}),(0,s.jsx)("div",{className:"h-80",children:(0,s.jsx)(x.N1,{data:(()=>{if(!S.length)return{labels:[],datasets:[]};let e=new Set;S.forEach(t=>{t.timeline.forEach(t=>{e.add(t.date)})});let t=Array.from(e).sort((e,t)=>{let a=new Date(e),s=new Date(t);return a.getTime()-s.getTime()}),s=S.map(e=>{let s=[],l=0;for(let e=0;e<t.length;e++)if(0===e)s.push(v>0?v:a);else{let t=s[e-1];s.push(t+a)}return{label:e.schemeName,data:t.map((t,a)=>{let l=e.timeline.find(e=>e.date===t);if(l){let e=l.value,t=s[a];return t<=0?0:parseFloat(((e-t)/t*100).toFixed(2))}return null}),borderColor:e.color,backgroundColor:e.color.replace("1)","0.1)"),borderWidth:2,tension:.3,pointRadius:2,pointHoverRadius:5}});return{labels:t,datasets:s}})(),options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{title:{display:!0,text:"Return (%)"},ticks:{callback:function(e){return"".concat(e,"%")}}},x:{title:{display:!0,text:"Date"}}},plugins:{tooltip:{callbacks:{label:function(e){let t=e.dataset.label||"",a=e.raw||0;return"".concat(t,": ").concat(a>=0?"+":"").concat(a,"%")}}},legend:{position:"top"}}}})})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("th",{className:"py-2 px-4 text-left text-sm font-medium text-slate-500 dark:text-slate-400",children:"Fund"}),(0,s.jsx)("th",{className:"py-2 px-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Investment"}),(0,s.jsx)("th",{className:"py-2 px-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:"Final Value"}),(0,s.jsx)("th",{className:"py-2 px-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:"Absolute Return"}),(0,s.jsx)("th",{className:"py-2 px-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:"XIRR"}),(0,s.jsx)("th",{className:"py-2 px-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:"Units"}),(0,s.jsx)("th",{className:"py-2 px-4 text-right text-sm font-medium text-slate-500 dark:text-slate-400",children:"NAV"})]})}),(0,s.jsx)("tbody",{children:S.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b border-slate-100 dark:border-slate-800",children:[(0,s.jsx)("td",{className:"py-2 px-4 text-sm text-slate-700 dark:text-slate-300",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"font-medium",children:e.schemeName})]})}),(0,s.jsxs)("td",{className:"py-2 px-4 text-right text-sm text-slate-700 dark:text-slate-300",children:["₹",e.totalInvestment.toLocaleString()]}),(0,s.jsxs)("td",{className:"py-2 px-4 text-right text-sm text-slate-700 dark:text-slate-300",children:["₹",e.totalValue.toLocaleString()]}),(0,s.jsxs)("td",{className:"py-2 px-4 text-right text-sm font-medium",style:{color:e.absoluteReturn>=0?"rgb(16, 185, 129)":"rgb(239, 68, 68)"},children:[e.absoluteReturn>=0?"+":"",e.absoluteReturn.toFixed(2),"%"]}),(0,s.jsxs)("td",{className:"py-2 px-4 text-right text-sm font-medium",style:{color:e.xirr>=0?"rgb(16, 185, 129)":"rgb(239, 68, 68)"},children:[e.xirr>=0?"+":"",e.xirr.toFixed(2),"%"]}),(0,s.jsx)("td",{className:"py-2 px-4 text-right text-sm text-slate-700 dark:text-slate-300",children:e.finalUnits.toFixed(2)}),(0,s.jsxs)("td",{className:"py-2 px-4 text-right text-sm text-slate-700 dark:text-slate-300",children:["₹",e.endNav.toFixed(2)]})]},e.schemeCode))})]})}),S.length>1&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-md font-medium text-green-700 dark:text-green-400 mb-2",children:"Best Performer"}),(0,s.jsxs)("p",{className:"text-slate-700 dark:text-slate-300",children:[(0,s.jsx)("span",{className:"font-medium",children:S.sort((e,t)=>t.xirr-e.xirr)[0].schemeName})," has the highest XIRR of ",S.sort((e,t)=>t.xirr-e.xirr)[0].xirr.toFixed(2),"% among the compared funds."]})]})]})}),0===e.length&&(0,s.jsxs)("div",{className:"text-center py-8 sm:py-12 app-card",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 sm:h-16 w-12 sm:w-16 mx-auto mb-4 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"No Funds Selected"}),(0,s.jsxs)("p",{className:"text-slate-500 mb-6 max-w-md mx-auto px-4",children:["Search for and select up to ",5," mutual funds above to compare their SIP performance."]})]})]})]})})}g.t1.register(g.PP,g.kc,g.FN,g.No,g.hE,g.m_,g.s$,g.dN)},43094:(e,t,a)=>{"use strict";a.d(t,{W:()=>n});var s=a(61183),l=a(95734),r=a(89447);function n(e,t,a){let[n,i,d]=(0,s.x)(null==a?void 0:a.in,e,e,t),o=(0,l.z)(i,d),c=Math.abs(function(e,t,a){let[l,r]=(0,s.x)(void 0,e,t);return 12*(l.getFullYear()-r.getFullYear())+(l.getMonth()-r.getMonth())}(i,d));if(c<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*c);let m=(0,l.z)(i,d)===-o;(function(e,t){let a=(0,r.a)(e,void 0);return+function(e,t){let a=(0,r.a)(e,null==t?void 0:t.in);return a.setHours(23,59,59,999),a}(a,void 0)==+function(e,t){let a=(0,r.a)(e,null==t?void 0:t.in),s=a.getMonth();return a.setFullYear(a.getFullYear(),s+1,0),a.setHours(23,59,59,999),a}(a,t)})(n)&&1===c&&1===(0,l.z)(n,d)&&(m=!1);let x=o*(c-m);return 0===x?0:x}},48882:(e,t,a)=>{"use strict";a.d(t,{P:()=>r});var s=a(7239),l=a(89447);function r(e,t,a){let r=(0,l.a)(e,null==a?void 0:a.in);if(isNaN(t))return(0,s.w)((null==a?void 0:a.in)||e,NaN);if(!t)return r;let n=r.getDate(),i=(0,s.w)((null==a?void 0:a.in)||e,r.getTime());return(i.setMonth(r.getMonth()+t+1,0),n>=i.getDate())?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}},63260:(e,t,a)=>{Promise.resolve().then(a.bind(a,17645))},95734:(e,t,a)=>{"use strict";a.d(t,{z:()=>l});var s=a(89447);function l(e,t){let a=(0,s.a)(e)-(0,s.a)(t);return a<0?-1:a>0?1:a}}},e=>{var t=t=>e(e.s=t);e.O(0,[647,874,926,579,550,441,684,358],()=>t(63260)),_N_E=e.O()}]);